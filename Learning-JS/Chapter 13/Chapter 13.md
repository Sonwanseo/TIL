# Chapter 13. 함수와 추상적 사고

### 13.1 서브루틴으로서의 함수

서브루틴은 아주 오래 된 개념이며 복잡한 코드를 간단하게 만드는 기초적인 수단이다.
서브루틴은 반복되는 작업의 일부를 떼어내어이름을 붙이고, 언제든 그 이름을 부르기만 하면 실행한다.

서브루틴은 프로시저, 루틴, 서브프로그램, 매크로 등 다양한 이름으로 불린다.
이들은 모두 매우 단순하고 범용적인, 호출할 수 있는 한 단위를 일컫는 말이다.

서브루틴은 대개 어떤 알고리즘을 나타내는 형태이다.
알고리즘은 주어진 작업을 수행하는 방법이다.

함수의이름을 정하는 건 아주 중요한 일이다.

### 13.3 함수로서의 함수

순수한 함수에서는 입력이 같으면 결과도 반드시 같다.
순수한 함수에는 부수 효과가 없어야 한다.
즉, 함수를 호출한다고 해서 프로그램의 상태가 바뀌어서는 안 된다는 뜻이다.

### 13.4 그래서?

서브루틴을 쓰면 자주 사용하는 동작을 하나로 묶을 수 있다.

순수한 함수를 쓰면 코드를 테스트하기 쉽고, 이해하기 쉽고, 재사용하기도 더 쉽다.

함수가 상황에 따라 다른 값을 반환하거나 부작용이 있따면 그 함수는 컨텍스트에 좌우되는 함수이다.
어떤 함수가 정말 유용하더라도 부수 효과가 있다면, 그리고 그 함수가 쓰이던 프로그램이 아닌 프로그램에서 사용하려 한다면 문제를 일으킬 수 있다.

항상 순수한 함수를 쓰는 습관을 들이는 편이 좋다.

#### 13.4.1 함수도 객체다

자바스크립트 함수는 Function 객체의 인스턴스이다.

### 13.5 IIFE와 비동기적 콛

IIFE를 사용하는 사례 중 하나는 비동기적 코드가 정확히 동작할 수 있도록 새 변수를 새 스코프에 만드는 것이다.
setTimeout은 첫 번째 매개변수인 함수를 두 번째 매개변수인 밀리초만큼 기다렸다가 실행한다.

자바스크립트는 매개변수를 값으로 넘긴다.

블록 스코프 변수를 사용하면 스코프 하나 때문에 함수를 새로 만드는 번거로운 일을 하지 않아도 된다.

### 13.6 변수로서의 함수

- 함수를 가리키는 변수를 만들어 별명을 정할 수 있다.
- 배열에 함수를 넣을 수 있다. 물론 다른 타입의 데이터와 섞일 수 있다.
- 함수를 객체의 프로퍼티로 사용할 수 있다.
- 함수를 함수에 전달할 수 있다.
- 함수가 함수를 반환할 수 있다.
- 함수를 매개변수로받는 함수를 반환하는 것도 가능하다.

#### 13.6.1 배열 안의 함수

파이프라인이란 자주 하는 일을 한 셋으로 묶는다.

#### 13.6.2

함수에 함수를 전달하는 다른 용도는 비동기적 프로그래밍이다.
이런 용도로 전달하는 함수를 보통 콜백이라 부르며, 약자로 cb를 쓸 때가 많다.
콜백 함수는 자신을 감싼 함수가 실행을 마쳤을 때 호출된다.

#### 13.6.3 함수를 반환하는 함수

매개변수 여러 개를 받는 함수를 매개변수 하나만 받는 함수로 바꾸는 것을 커링이라 부른다.

### 13.7 재귀

재귀란 자기 자신을 호출하는 함수이다.

재귀 함수에서 눈여겨볼 점은 모든 가능성을 전부 고려한다는 것이다.

재귀 함수에는 종료 조건이 있어야 한다.
