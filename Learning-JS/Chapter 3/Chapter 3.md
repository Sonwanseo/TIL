## Chapter 3 리터럴과 변수, 상수, 데이터 타입

우리가 직접 0과 1만으로 일을 할 수는 없고, 우리에게 익숙한 형태인 숫자와 텍스트, 날짜 등을 다뤄야 한다.
이런 숫자와 텍스트, 날짜 등을 데이터 타입(자료형)이라 부른다.

cf. 용어에 관심을 가지면 배운 언어에 관한 지식을 다른 언어에도 적용할 수 있고 더 많은 소스에서 배울 수 있다.

### 3.1 변수와 상수

변수란 이름이 붙은 값으로, 값은 언제든 바뀔 수 있다.
let ~~은 변수를 선언(생성)하고 초깃값을 할당한다.

let은 변수 선언에만 쓰이고, 각 변수는 한 번만 선언 가능하다.
초깃값을 할당하지 않으면 암시적으로 특별한 값 undefined가 할당된다.

let 문 하나에서 변수 여러 개를 선언 가능하다.

상수는 값을 할당받을 수 있지만, 한 번 할당된 값을 바꿀 수는 없다.
상수 이름에는 보통 대문자와 밑줄만 사용한다.

### 3.2 변수와 상수 중 어떤 것을 써야 할까요?

될 수 있으면 변수보다 상수를 써야 한다.
데이터의 값이 아무 때나 막 바뀌는 것보다는, 고정된 값이 이해하기 쉽다.
상수를 사용하면 값을 바꾸지 말아야 할 데이터에서 실수로 값을 바꾸는 일이 줄어든다.

시간이 지나면서 값이 바뀌는 경우에도 변수를 써야 한다.

### 3.3 식별자 이름

변수와 상수, 함수 이름을 식별자라 부른다.

식별자의 규칙

- 식별자는 반드시 글자나 달러 기호(\$), 밑줄(\_)로 시작해야 한다.
- 식별자에는 글자와 숫자, 달러 기호, 밑줄만 쓸 수 있다.
- π와 같은 유니코드 문자도 쓸 수 있다.
- 예약어는 식별자로 쓸 수 없다.

다른 언어에서는 달러 기호를 특수문자로 사용하지만 자바스크립트는 그렇지 않다.
a나 z 같은 글자와 마찬가지로 식별자 이름에 사용할 수 있다.
제이쿼리 같은 라이브러리는 이런 장점을 활용해서 달러 기호 자체를 식별자로 사용한다.
예약어는 자바스크립트에서 사용하는 단어이므로 프로그래머는 쓸 수 없다.

가장 널리 쓰이는 식별자 표기법

- 카멜 케이스 ex)inputNum, helloWorld
- 스네이크 케이스 ex)input_num, hello_world

표기법은 무엇을 써도 좋지만, 일관성을 지켜야 한다.

- 식별자는 대문자로 시작해서는 안된다. 예외는 클래스 뿐.
- 밑줄 한 개 또는 두 개로 시작하는 식별자는 아주 특별한 상황, 또는 '내부' 변수에서만 사용한다. 자신만의 특별한 변수 카테고리를 만들지 않는 한, 변수나 상수 이름을 밑줄로 시작하지 마라.
- 제이쿼리를 사용할 경우, 달러 기호로 시작하는 식별자는 보통 제이쿼리 객체라는 의미이다.

### 3.4 리터럴

리터럴은 값을 프로그램 안에서 직접 지정한다는 의미이다.
리터럴은 값을 만드는 방법이다.

리터럴과 식별자의 차이를 이해하는 것이 중요하다.
자바스크립트는 따옴표를 통해 리터럴과 식별자를 구별한다.
식별자는 숫자로 시작할 수 없으므로 숫자에는 따옴표가 필요 없다.

cf. 값이 필요한 곳에는 어디든지 리터럴을 쓸 수 있다.
숫자형 리터럴을 한두 군데 쓰는 정도라면 이렇게 해도 괜찮다.
하지만 그런 곳이 10개, 또는 100개쯤 된다면 상수나 변수를 써야 한다.
상수나 변수를 쓰면 코드를 이해하기 쉽고 값을 바꿀 때도한 한 곳에서만 바꾸면 된다.

어디에 변수를 쓰고 어디에 상수를 쓸지 결정하는 것은 프로그래머의 몫이다.
값을 애플리케이션 안에서 바꿀 수 있어야 한다면 변수를 쓰는 게 맞다.

### 3.5 원시 타입과 객체

자바스크립트의 값은 원시 값 또는 객체이다.
문자열과 숫자 같은 원시 타입은 불변이다.
예를 들어 "alpha" + "omega"처럼 문자열을 병합한다면, 같은 문자열을 수정했을 뿐이라고 생각한다.
하지만, 그것은 서로 다른 문자열이다.

원시 타입

- 숫자
- 문자열
- 불리언
- null
- undefined
- 심볼(Symbol)

불변성이라는 말이 변수의 값이 바뀔 수 없다는 뜻이 아니다.

이 여섯 가지 원시 타입 외에 객체가 있다.
원시 값과 달리 객체는 여러 가지 형태와 값을 가진다.
객체의 유연한 성질 때문에 커스텀 데이터 타입을 만들 때 객체를 많이 사용한다.

내장된 객체 타입

- Array
- Date
- RegExp
- Map과 WeakMap
- Set과 WeakSet

마지막으로, 원시 타입 중 숫자와 문자열, 불리언에는 각각 대응하는 객체 타입인 Number, String, Boolean이 있다.
이들 대응하는 객체에 실제 값이 저장되지는 않는다.
이들은 대응하는 원시 값에 기능을 제공하는 역할을 한다.

### 3.6 숫자

숫자에는 컴퓨터가 정확히 나타낼 수 있는 숫자도 있지만, 근사치로만 표현 할 수 있는 숫자도 많다.

자바스크립트도 다른 프로그래밍 언어와 마찬가지로 실제 숫자의 근사치를 저장할 때 IEEE-764 배정도 부동소수점 숫자 형식을 사용한다
이 형식을 '더블(double)'이라고 한다.

더블 형식의 근사치 결과는 종종 사람들을 당혹스럽게 만들곤 한다.
이건 무한한 값을 유한한 메모리 안에서 가능한 한 정확히 짐작하려다가 생긴 결과일 뿐이다.

자바스크립트에는 숫자형 데이터 타입이 하나 밖에 없다.
숫자형 데이터를 하나만 갖기로 한 선택은 자바스크립트를 단순한 언어로, 특히 초보자에게 부담 없는 언어로 만들었다는 장점이 있다.
반면, 자바스크립트를 고성능 정수 연산이나 정밀한 소수점 연산이 필요한 애플리케이션에서 쓸 수 없게 만든 선택이기도 한다.

자바스크립트는 10진수, 2진수, 8진수, 16진수의 네 가지 숫자형 리터럴을 인식한다.
10진 리터럴에는 소수점 없는 정수, 소수점 있는 10진수(12.34 등), 과학에서 사용하는 지수 표기법을 쓸 수 있다.
그 외에도 무한대, 음의 무한대, '숫자가 아님'을 나타내는 특별한 값들이 있다.

cf. 10진수, 16진수, 지수 등 어떤 리터럴 형식을 사용하더라도 결국 숫자는 더블 형식으로 저장된다.
자바스크립트가 표시할 수 있는 숫자 형식에는 제한이 있다.

### 3.7 문자열

문자열은 텍스트 데이터이다.

자바스크립트 문자열은 유니코드 텍스트이다.
유니코드는 텍스트 데이터에 관한 표준이며 사람이 사용하는 언어 대부분의 글자와 심볼에 해당하는 코드 포인트를 포함하고 있다.(여기서 말하는 '언어'는 이모티콘도 포함한다.)

자바스크립트의 문자열 리터럴에는 작은 따옴표, 큰따옴표, 백틱을 사용한다.
백틱은 템플릿 문자열에서 사용한다.

#### 3.7.1 이스케이프

텍스트로 만들어진 프로그램에서 텍스트 데이터를 사용할 때는 항상 텍스트 데이터와 프로그램 자체를 구별할 방법이 필요하다.
이때 문자열을 따옴표 안에 쓰는 방법이 있다.

역슬래시('\')를 써서 따옴표를 이스케이프하면 문자열이 여기서 끝나지 않았다고 자바스크립트에 알릴 수 있다.
역슬래시는 자기 자신을 이스케이프 할 수 있다.

따옴표보다는 don't 등의 아포스트로피를 더 많이 쓰는 편이므로, 큰 따옴표를 쓰는 편이 필자에게 맞다.
자바스크립트 문자열 안에 HTML을 쓸 때는 반대로 작은 따옴표를 쓴다.
HTML 문자열을 작은 따옴표로 감싸면 속성값에 큰 따옴표를 쓸 수 있기 때문이다.

### 3.8 특수문자

역슬래시는 따옴표를 이스케이프할 때만 쓰지는 않는다.
줄바꿈 문자처럼 화면에 표시되지 않는 일부 특수문자나 임의의 유니코드 문자를 나타낼 때도 역슬래시를 사용한다.

\n 줄바꿈 문자
\t 탭
\' 작은 따옴표
\" 큰 따옴표
\\ 역슬래시

16진수에는 소문자나 대문자를 모두 쓸 수 있다.
유니코드 문자 코드를 이스케이프하지 않고 에디터에서 직접 입력할 수도 있다.

\0 NULL 문자

#### 3.8.1 템플릿 문자열

값을 문자열 안에 써야 하는 일이 아주 많다.
이 때 문자열 병합을 통해 변수나 상수를 문자열 안에 쓸 수 있다.

ES6 이전에는 변수나 상수를 문자열 안에 쓰는 방법은 (외부 라이브러리 제외) 문자열 병합뿐이었다.
ES6에서는 문자열 템플릿이라는 기능을 도입했다.
이 기능을 문자열 채우기라고도 부른다.
문자열 템플릿은 문자열의 정해진 위치에 값을 채워 넣는 간편한 방법이다.
문자열 템플릿에는 백틱을 사용한다.

문자열 템플릿 안에서는 달러 기호가 특수문자가 된다.
달러 기호 다음에 중괄호로 감싼 값을 쓰면 그 값이 문자열에 삽입된다(문자열 템플릿 안에 달러 기호를 써야 한다면 역슬래시로 이스케잎하면 된다).

#### 3.8.2 여러 줄 문자열

여러 줄 문자열 기능은 자바스크립트 콘솔에서는 동작하지 않으므로 시험해 보려면 자바스크립트 파일을 만들어야 한다.

#### 3.8.3 숫자와 문자열

숫자를 따옴표 안에 넣으면 문자열이다.
자바스크립트는 필요하다면 숫자가 들어 있는 문자열을 자동으로 숫자로 바꾼다.

사용자 입력은 거의 항상 문자열로 들어오므로, 숫자가 필요할 때 숫자로 바꾸는 건 프로그래머가 해야 할 일이다.

### 3.9 불리언

불리언은 true와 false 두 가지 값밖에 없는 데이터 타입이다.
C 같은 일부 언어에서는 0은 false이고, 다른 숫자는 모두 true이다.
자바스클비트에서는 모든 값을 참 같은 값, 거짓 같은 값으로 나눌 수 있다.

불리언을 쓸 생각이라면 따옴표 안에 넣지 않도록 조심하라.

### 3.10 심볼

심볼은 유일한 토큰을 나타내기 위해 ES6에서 도입한 새 데이터 타입이다.
심볼은 항상 유일하다.

심볼은 원시 값의 특징을 모두 가지고 있으므로 확장성 있는 코드를 만들 수 있다.

심볼은 Symbol() 생성자로 만든다.

cf. 심볼을 만들 때 new 키워드를 사용할 수 없으며, 대문자로 시작하는 식별자는 new와 함게 쓴다는 불문율의 예외이다.

### 3.11 null과 undefined

null이 가질 수 있는 값은 null 하나뿐이며, undefined가 가질 수 있는 값도 undefined 하나 뿐이다.
null과 undefined는 모두 존재하지 않는 것을 나타낸다.

null은 프로그래머에게 허용된 데이터 타입이며 undefined는 자바스크립트는 자체에서 사용한다.

변수에 직접 undefined를 할당하는 경우는, 아직 값이 주어지지 않은 변수의 동작을 고의로 흉내 내야 할 때 뿐이다.
변수의 값을 아직 모르거나 적용할 수 없는 경우에는 대부분 null이 더 나은 선택이다.

변수를 선언하기만 하고 명시적으로 값을 할당하지 않으면 그 변수에는 기본적으로 undefined가 할당된다.

### 3.12 객체

원시 타입은 단 하나의 값만 나타낼 수 있고 불변이지만, 이와 달리 객체는 여러 가지 값이나 복잡한 값을 나타낼 수 있으며, 변할 수도 있다.
객체의 본질은 '컨테이너'이다.
컨테이너의 내용물은 시간이 지나면서 바뀔 수 있지만, 내용물이 바뀐다고 컨테이너가 바뀌는 것은 아니다.
객체에도 중괄호, 즉 {과 }를 사용하는 리터럴 문법이 있다.
중괄호는 한 쌍이므로 객체가 어디에서 시작하고 어디에서 끝나는지 나타낼 수 있다.

객체 이름은 아무거나 써도 되지만, 의미를 알 수 있는 이름을 써야 한다.

객체의 콘텐츠는 프로퍼티 또는 멤버라고 부른다.
프로퍼티는 이름(키)과 값으로 구성된다.
프로퍼티 이름은 반드시 문자열 또는 심볼이어야 하며, 값은 어떤 타입이든 상관없고 다른 객체여도 괜찮다.

프로퍼티 이름에 유효한 식별자를 써야 멤버 접근 연산자(.)를 사용할 수 있다.
프로퍼티 이름에 유효한 식별자가 아닌 이름을 쓴다면 계산된 멤버 접근 연산자([])를 써야 한다.
프로퍼티 이름이 유효한 식별자여도 대괄호로 접근 가능하다.

심볼 프로퍼티에 접근할 때도 대괄호를 사용한다.

이 섹션에서 우리는 변수 obj에 저장된 객체를 수정했지만, obj는 항상 같은 객체를 가리키고 있었다.
obj에 저장한 것이 문자열이나 숫자, 기타 다른 원시 값이었다면 수정할 때마다 다른 값을 가리켰을 것이다.
달리 말해 obj는 계속 같은 객체를 가리키고, 바뀐 것은 객체의 프로퍼티이다.

obj는 빈 객체로 만들었지만, 객체 리터럴 문법에서는 객체를 만드는 동시에 프로퍼티를 만들 수 있다.
중괄호 안에서 각 프로퍼티를 쉼표로 구분하고, 프로퍼티 이름과 값은 콜론으로 구분한다.

sam1과 sam2의 프로퍼티는 똑같지만, 둘은 서로 다른 객체이다.
원시값과는 반대이다(값이 숫자 3인 두 변수는 같은 원시 값을 가리킨다).
객체에 접근하는 방법은 여러 가지이다.
여기서는 큰따옴표만 썼지만, 작은따옴표나 백틱을 써도 된다.

객체에 함수를 담을 수도 있다.

### 3.13 Number, String, Boolean 객체

숫자와 문자열, 불리언에는 각각 대응하는 객체 타입 Number, String Boolean이 있다.
이들 객체에는 두 가지 목적이 있다.
하나는 Number.INFINITY 같은 특별한 값을 저장하는 것이고, 다른 하나는 함수 형태로 기능을 제공하는 것이다.

### 3.14 배열

배열 콘텐츠에는 항상 순서가 있고, 키는 순차적인 숫자이다.
배열은 유용한 메소드를 많이 가진 대단히 강력한 데이터 타입이다.

다른 언어를 공부했다면 자바스크립트 배열이 C 언어의 효율적인 배열과 더 가아력한 동적 배열, 링크드 리스트를 혼합한 것임을 알 수 있을 것이다.

- 배열 크기는 고정되지 않는다. 언제든 요소를 추가하거나 제거할 수 있다.
- 요소의 데이터 타입을 가리지 않는다. 즉, 문자열만 쓸 수 있는 배열이라던가 숫자만 쓸 수 있는 배열 같은 개념이 아예 없다.
- 배열 요소는 0으로 시작하다.

cf. 배열은 기능이 추가된 특수한 객체이므로 배열에 숫자가 아닌 키나 분수, 음수 등을 키로 쓸 수는 있다.
하지만, 이런 행동은 배열의 설계 목적에 어긋날 뿐 아니라 혼란스러운 동작과 찾기 어려운 버그를 초래할 수 있으므로 피해야 한다.

배열에는 요소 숫자를 반환하는 length 프로퍼티가 있다.

배열 요소에 접근할 때는 대괄호 안에 요소의 인덱스 숫자를 쓴다.

배열의 요소의 값을 덮어쓸 때는 새 값을 할당하면 된다.

### 3.15 객체와 배열 마지막의 쉼표

마지막 쉼표를 trailing comma, dangling comma, terminal comma 등으로 부른다.

cf. 널리 사용되는 자바스크립트 객체 표기법(JSON)에서는 마지막 쉼표를 허용하지 않는다.

### 3.16 날짜

자바스크립트의 날짜와 시간은 내장된 Date 객체에서 담당한다.
Date 객체는 원래 자바에서 가져온 것이다.

현재 날짜와 시간을 나타내는 객체를 만들 때는 new Date()를 사용한다.

### 3.17 정규표현식

(regex 또는 regexp로도 쓰는) 정규표현식은 자바스크립트의 부속 언어에 가깝다.
정규표현식은 여러 가지 프로그래밍 언어에서 일종의 확장으로 제공하며, 문자열에서 필요한 복잡한 검색과 교체 작업을 비교적 단순하게 만든다.
자바스크립트의 정규표현식은 RegExp 객체를 사용한다.
슬래시 한 쌍(/.../) 사이에 심볼을 넣는 리터럴 문법도 있다.

### 3.18 맵과 셋

ES6에서는 새로운 데이터 타입 Map과 Set, 그리고 그들의 "약한" 짝인 WeakMap과 WeakSet을 도입했다.
맵은 객체와 마찬가지로 키와 값을 연결하지만, 특정 상황에서 객체보다 유리한 부분이 있다.
셋은 배열과 비슷하지만 중복이 허용되지 않는다.
위크맵과 위크셋은 맵과 셋과 마찬가지로 동작하지만, 특정 상황에서 성능이 더 높아지도록 일부 기능을 제거한 버전이다.

### 3.19 데이터 타입 변환

사용자 입력이나 다른 시스템에서 가져온 데이터를 그대로 쓸 수 있는 경우는 별로 없고, 대개 변호나해야 한다.

#### 3.19.1 숫자로 바꾸기

사용자에게 받은 입력은 보통 문자열로, 자바스크립트에는 문자열을 숫자로 바꾸는 방법이 몇 가지 있다.

첫 번째는 Number 객체 생성자를 사용하는 방법이다.
숫자로 바꿀 수 없는 문자열에서는 NaN이 반환된다.

두 번째 방법은 내장 함수인 parseInt나 parseFloat 함수를 사용하는 방법이다.
parseInt를 사용할 때는 기수를 넘길 수 있다.
기수는 변환할 문자열이 몇 진수 표현인지 지정한다.
parseInt와 parseFloat는 모두 숫자로 판단할 수 있는 부분까지만 변환하고, 그 뒤에 있는 문자열은 무시한다.

Date 객체를 숫자로 바꿀 때는 valueOf() 메소드를 사용한다.
이 숫자는 UTC 1970년 1월 1일 자정으로부터 몇 밀리초가 지났는지 나타내는 숫자이다.

불리언 값을 1(true)이나 0(false)으로 바꿔야 할 때도 있다.
이렇게 변환할 때는 조건 연산자를 사용한다.

#### 3.19.2 문자열로 변환

자바스크립트의 모든 객체에는 문자열 표현을 반환하는 toString() 메소드가 잇다.
문자열 병합에서 자동으로 숫자를 문자열로 변환하므로, 숫자를 문자열로 직접 바꿀 일은 그리 많지 않다.

대부분의 객체는 쓸모없는 문자열 "[object Object]"를 반환한다.
객체의 toString() 메소드를 수정해서 더 유용한 문자열 표현을 반환하게 할 수 있다.

#### 3.19.3 불리언으로 변환

부정 연산자(!)를 써서 모든 값을 불리언으로 바꿀 수 있다.
부정 연산자를 한 번 사용하면 '참 같은 값'은 false로 바뀐다.
부정 연산자를 한 번 더 쓰면 true를 얻을 수 있다.
숫자형 변환과 마찬가지로 Boolean 생성자를 써도 결과는 같다.

### 3.20 요약

프로그래밍 언어에서 데이터 타입은 말로 설명할 수 있는 것들을 프로그램에 구현하는 기본 요소이다.

- 자바스크립트에는 문자열, 숫자, 불리언, null, undefined, 심볼의 여섯 가지 원시 타입과 객체 타입이 있다.
- 자바스크립트의 모든 숫자는 배정도 부동소수점 숫자(더블)이다.
- 배열은 특수한 객체이며, 객체와 마찬가지로 매우 강력하고 유연한 데이터 타입이다.
- 날짜, 맵, 셋, 정규표현식 등 자주 사용할 다른 데이터 타입들은 특수한 객체 타입이다.

### 3.21 참조형과 원시형

원시 값은 불변이고, 원시 값을 복사/전달할 때는 값 자체를 복사/전달한다.
따라서 '원본'의 값이 바뀌더라도 '사본'의 값이 따라서 바뀌지 않는다.

또한, 값 자체를 복사했으므로 변수와 값은 일치한다.

값 자체를 전달하므로 함수 안에서 변수의 값이 바뀌어도 함수 외부에서는 바뀌지 않은 상태로 남는다.

객체는 가변이고, 객체를 복사/전달할 때는 객체가 아니라 그 객체를 가리키고 있다는 사실(참조)을 복사/전달한다.
따라서 원본이 바뀌면 사본도 따라서 바뀐다.
이런 특징을 강조하고 싶을 때 객체를 참조 타입이라고 부르기도 한다.

주의할 점은 객체를 가라키는 변수는 그 객체를 가리키고 있을 뿐, 객체 자체는 아니다.
따라서 변수와 객체는 결코 일치하지 않는다.

참조를 전달하므로 함수 안에서 객체를 변경하면 함수 외부에서도 바뀐다.
