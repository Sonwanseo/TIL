## Chapter 2 자바스크립트 개발 도구

Git(깃) : 프로젝트가 커져도 쉽게 관리할 수 있고 다른 개발자와 협력할 수 있게 돕는 버전 컨트롤 도구
Node(노드) : 브라우저 밖에서 자바스크립트를 실행할 수 있게 하는 도구, 노드와 함께 설치되는 npm은 이 리스트의 다른 도구를 설치할 때 필요
Gulp(걸프) : 반복적인 개발 작업을 자동화하는 빌드 도구, Grunt(그런트)도 널리 쓰임
Babel(바벨) : ES6 코드를 ES5 코드로 변환하는 트랜스컴파일러
ESLink(ES린트) : 자주 하는 실수를 피하고 더 나은 프로그래머가 되도록 돕는 린트 프로그램

### 2.1 ES6 사용하기

자바스크립트는 컴파일과 링크가 필요 없는 언어이다.
자바스크립트는 인터프리팅 언어이고 번거로운 부대 작업이 필요 없다는 장점이 있다.
자바스크립트의 장점은 어디서든 쓰인다는 것이다.

자바스크립트가 ES5에서 ES6로 넘어가는 과정은 점진적이다.
즉, 지금 사용하는 브라우저가 ES6의 기능을 일부 지원하지만 전체를 지원하지는 못할 수도 있다.
자바스크립트가 점진적으로 변화할 수 있는 까닭은 자바스크립트의 동적 성격 때문이기도 하고, 최근의 브라우저 업데이트 방식 때문이기도 하다.

브라우저 제작자들은 사용자가 직접 업데이트해야 하는 뚜렷한 버전 번호라는 개념에서 벗어나고 있다.
브라우저가 제대로 동작하려면 항상 인터넷에 연결되어 있어야 하므로, 항상 최신 버전을 유지할 수 잇다.
물론 버전은 여전히 존재하지만, 에버그린 브라우저들은 사용자가 업데이트를 거부할 수 없게 하므로 최신 버전을 사용할 가능성이 크다.

- 트랜스컴파일 : 최신 버전의 프로그래밍 언어를 구식 환경에서도 동작하도록 변환해주는 방법
- 컴파일 : .c .cpp 등의 파일을 목적 파일(object file)로 변환시키는 것
- 링크 : 여러 개의 목적 파일을 하나의 실행 파일(.exe)로 변환시키는 것
- 인터프리팅 언어 : 컴파일러를 거쳐서 기계어로 변환되지 않고 바로 실행되는 프로그래밍 언어
- 스크립트 언어 : 응용 소프트웨어를 제어하는 컴퓨터 프로그래밍 언어
- 응용 소프트웨어 : 넓은 의미로는 운영 체제에서 실행되는 모든 소프트웨어, 좁은 의미로는 OS 위에서 사용자가 직접 사용하게 되는 소프트웨어
- 버전 번호 : 웹 페이지의 버전 번호(ex. chrome 2019버전)

### 2.2 ES6 기능

Es6에는 새 기능이 너무 많아서 트랜스컴파일러조차 전부 지원하지 못할 정도이다.
뉴욕에 사는 개발자 캉각스는 이 혼란을 타개하기 위해 ES6(와 ES7)의 기능별 호환성 테이블을 운영하고 있다.
2015년 8월 기준으로, 가장 많은 기능을 지원하는 바벨조차 72%에 불과하다.

트랜스컴파일을 시작하기 전에 약간의 준비 작업이 필요하다.
필요한 도구를 모두 갖춰야 하고, 도구를 사용하도록 설정하는 법을 배워야 한다.

#### 2.2.1 깃 설치

#### 2.2.2 터미널

이 장을 따라 하는 동안에는 터미널(명령줄 또는 명령어 프론프트라고 한다)에서 작업하게 된다.
터미널은 텍스트 명령으로 컴퓨터를 조작하는 방법으로 프로그래머들은 터미널을 즐겨 사용한다.

가장 많이 쓰이는 터미널은 Bash(배시)라 불리는 셸이다.
리눅스와 macOS 컴퓨터에서는 기본적으로 배시를 제공

터미널을 시작하면 커서가 깜박이는 프롬프트를 볼 수 있다.
기본 프롬프트에는 컴퓨터 이름이나 현재 디렉터리 이름이 들어가 있는 경우가 많고, 일반적으로 달러 기호 (\$)로 끝난다.

배시에서는 디렉터리 이름을 슬래시(/)로 구분한다.
윈도우에서는 디렉터리 이름을 역슬래시(\)로 구분하지만, 깃 배시에서는 역슬래시를 슬래시로 바꿔 표시한다.
배시에서는 홈 디렉터리(일반적으로 파일을 저장하는 디렉터리)를 ~로 표시한다.

다른 디렉터리로 이동하는 명령어는 cd이다.
새 디렉터리를 만드는 명령은 mkdir이다.
현재 디렉터리 경로를 출력하는 명령어는 pwd이다.
마침표 두 개(..) 는 부모 디렉터리이다.

- 셸 : 운영체제 상에서 다양한 운영 체제 기능과 서비스를 구현하는 인터페이스를 제공하는 프로그램
- 인터페이스 : 사용자가 기기를 쉽게 동작시키는데 도움을 주는 시스템

#### 2.2.3 프로젝트 루트

프로젝트마다 디렉터리를 따로 만드는 게 좋다.
이 디렉터리를 프로젝트 루트라고 부른다.

#### 2.2.4 깃과 버전 컨트롤

버전 컨트롤을 사용하라.

버전 컨트롤을 사용하다 보면 깃에서 추적하지 않았으면 하는 파일이 생길 것이다.
빌드 과정에서 생기는 파일, 임시 파일 같은 것들이다.
.gitignore 파일을 만들어서 추적에서 제외할 파일을 정할 수 있다.

- 버전 컨트롤 : 동일한 정보에 대한 여러 버전을 관리하는 것

#### 2.2.5 npm 패키지 관리

npm의 목적은 간단히 말해 설치된 패키지 관리이다.
'패키지'는 완전한 애플리케이션일 수도 있고, 코드 샘플일 수도 있고, 프로젝트에서 사용할 모듈 또는 라이브러리일 수도 있다.

npm은 패키지를 설치할 대 전역으로, 또는 로컬로 설치할 수 있다.
전역으로 설치하는 패키지는 보통 개발 과정에서 사용하는 터미널에서 실행하는 도구들이다.
로컬 패키지는 각 프로젝트에 종속되는 패키지이다.

프로젝트에 설치하고 사용하는 모듈을 의존성(dependency)이라 부른다.
npm은 package.json 파일을 통해 의존성을 관리한다.

의존성은 일반 의존성과 개발 의존성으로 나뉜다.
개발 의존성은 앱을 실행할 때는 필요 없지만, 프로젝트를 개발할 때 필요하거나 도움이 되는 패키지를 말한다.

#### 2.2.6 빌드 도구: 걸프와 그런트

개발 과정에서 피할 수 없는 반복 작업을 자동화하는 빌드 도구가 필요하다.
현재 자바스크립트에서 가장 널리 쓰이는 빌드 도구는 그런트와 걸프이다.
걸프는 최종 사용자에게는 필요 없지만, 개발 과정에서 도움이 되는 개발 의존성에 속한다.
걸프가 없어도 앱은 잘 동작하지만, 개발할 때 걸프가 있으면 작업이 편해진다.

#### 2.2.7 프로젝트 구조

걸프와 바벨을 써서 ES6 코드를 ES5 코드로 바꾸기 전에 코드를 어디에 저장할 지 생각해야 한다.

### 2.3 트랜스컴파일러

가장 널리 쓰이는 트랜스컴파일러는 바벨과 트레이서이다.

바벨은 ES5를 ES6로 바꾸는 트랜스컴파일러로 시작했고, 프로젝트가 성장하면서 ES6와 리액트, ES7 등 여러 가지를 지원하는 범용 트랜스컴파일러가 됐다.
바벨 버전 6부터는 ES5를 ES6로 변환하려면 ES6 변환 프리셋을 설치하고 바벨이 해당 프리셋을 사용하게끔 설정해야 한다.

#### 2.3.1 바벨을 걸프와 함께 사용하기

걸프는 파이프라인 개념으로 작업을 처리한다.
먼저 변환할 파일을 (src("es6/**/\*.js")) 지정한다.
**는 '서브디렉터리를 포함해 모든 디렉터리'를 뜻하는 와일드카드이다.
다음에는 이 소스 파일을 바벨에 파이프로 연결한다.
바벨은 ES6 코드를 ES5 코드로 변형한다.
마지막 단계에서는 컴파일된 ES5 코드를 dist 디렉터리에 저장한다.
걸프는 소스 파일 이름과 디렉터리 구조를 그대로 유지한다.

### 2.4 린트

린트 프로그램은 당신의 코드를 세심히 검토해서 자주 일어나는 실수를 알려준다.

ESLink를 사용하기 전에 프로젝트에 쓸 설정 파일 .eslintrc를 만들어야 한다.
프로젝트마다 다른 표준이나 규칙에 따라 작업해야 할 수도 있고, 그에 맞게 .eslintrc 파일을 만들어 ESLint의 린트 규칙을 적용할 수도 있다.

ESLint를 사용하는 방법은 여러가지이다.
eslint es6/test.js 처럼 직접 실행해도 되고, 에티터에 통합할 수도 있고 Gulpfile에 추가해도 된다.

ESLint는 무엇을 실수로 지적할 지 설정할 수 있다.

### 2.5 정리

개발용 컴퓨터를 설정할 때는 다음과 같은 준비가 필요하다

- 좋은 에디터
- 깃
- Gulp
- ESLint

새 프로젝트를 시작할 대는 다음과 같은 준비가 필요하다

- 프로젝트에 사용할 전용 디렉터리, 이 디렉터리를 프로젝트 루트라고 부른다
- 깃 저장소
- package.json 파일
- Gulpfile gulpfile.js
- 걸프와 바벨의 로컬 패키지
- .babelrc
- .eslintrc 파일
- 노드 소스용 서브디렉터리 es6
- 브라우저 소스용 서브디렉터리 public/es6

이상의 준비가 끝났으면 기본적인 작업 순서는 다음과 같다.

1. 코드를 수정할 대는 논리적으로 일관되게 수정한다.
2. 걸프를 실행해서 코드에 존재하는 실수와 잠재적 오류를 찾는다.
3. 수정한 내용이 잘 동작하고 린트 프로그램에서 지적하는 것이 없을 때까지 반복한다.
4. git status 명령을 써서 원하지 않는 파일이 커밋되지 않는지 확인하라. 깃에서 추적하지 말아야 할 파일이 있다면 .gitignore 파일에 추가하라.
5. git add -A 명령으로 바꾼 내용을 저장소에 추가한다. 한꺼번에 추가하지 않으려면 git add 명령을 파일마다 내려도 된다.
6. git commit -m "[description of you changes]" 명령으로 커밋한다.

프로젝트에 다라서는 걸프 작업에 테스트를 추가하거나, git push 명령으로 코드를 깃허브나 비트버킷 같은 공유 저장소에 올리는 등 다른 단계가 추가될 수도 있다.
예제에서 브라우저 코드라고 명시하지 않았다면 코드 샘플은 모두 노드에서 실행해야 한다.

걸프 명령을 생략하고 babel-node로 실행해도 된다.
babel-node도 트랜스컴파일 과정을 거치므로 시간이 줄어들지는 않는다.
