## Chapter 5. 표현식과 연산자

표현식은 값으로 평가될 수 있는 문이다.

표현식이 아닌 문은 일종의 지시라고 생각할 수 있고, 표현식은 무언가를 요청하는 것이라고 생각할 수 있다.
표현식은 결과를 명시적으로 반환한다.

표현식은 값이 된다.
그 결과를 다른 표현식에 결합해서 다른 값을 얻을 수 있다.

표현식은 값이 되므로 할당에 쓸 수 있다.
즉, 표현식의 결과를 변수나 상수, 프로퍼티에 할당할 수 있다.

할당은 표현식이고, 따라서 값이 되므로, 다른 변수에 다시 할당할 수 있다.

자바스크립트가 표현식을 평가하는 순서를 연산자 우선순위라 부른다.

표현식은 대부분 연산자 표현식이다.
피연산자는 서로 곱하는 두 숫자이며 피연산자 자체도 표현식이다.

연산자 표현식이 아닌 표현식에는 식별자 표현식과 리터럴 표현식 두 가지가 있다.
변수와 상수, 리터럴은 그 자체가 표현식이다.

### 5.1 연산자

표현식이 값이 되는 것이라면 연산자는 값을 만드는 행동이다.

### 5.2 산술 연산자

숫자형 리터럴 앞에 있는 -기호는 실제 숫자형 리터럴의 일부로 해석되므로 연산자가 아니다.

나머지 연산자는 나눗셈을 한 나머지를 반환한다.
나머지 연산자는 보통 정수 피연산자에만 사용하지만, 자바스크립트에서는 피연산자에 소수점이 있어도 잘 동작한다.

전위 연산자는 먼저 변수의 값을 바꾼 다음에 평가한다.
후위 연산자는 값을 바꾸기 전에 평가한다.

### 5.3 연산자 우선순위

우선순위가 같은 연산자들은 오른쪽에서 왼쪽으로 또는 왼쪽에서 오른쪽으로 평가한다.

### 5.4 비교 연산자

비교 연산자는 두 개의 값을 비교한다.
비교 연산자는 일치함(===), 동등함(==), 대소 관계의 세 가지 타입으로 나뉜다.

두 값이 같은 객체를 가리키거나, 같은 타입이고 값도 같다면 이 값을 일치한다고 한다.
두 값이 같은 객체를 가리키거나 같은 값을 갖도록 변환할 수 있다면 두 값을 동등하다고 한다.

수많은 부작용이 생길 수 있다.
따라서 문자열은 미리 숫자로 변환해서 일치하는지 비교하길 권장한다.

객체 a와 b에 같은 정보가 들어 있더라도 그들은 서로 다른 객체이며, 일치하지도 않고 동등하지도 않다.

관계 연산자는 관계가 있는 값을 비교하며, 문자열이나 숫자처럼 원래 순서가 있는 데이터 타입에만 사용할 수 있다.
관계 연산자는 작다(<), 작거나 같다(<=), 크다(>), 크거나 같다(>=) 네 가지가 있다.

### 5.5 숫자 비교

특별한 숫자형 값 NaN은 그 자신을 포함하여 무엇과도 같지 않다.

자바스크립트의 숫자는 모두 더블 형식이다.

자바스크립트에는 특별한 숫자형 상수 Number.EPSILON이 있다.
이것은 매우 작은 값(약 2.22e-16)이며, 일반적으로 숫자 두 개를 구별하는 기준으로 사용한다.

### 5.6 문자열 병합

자바스크립트에서 + 연산자는 덧셈과 문자열 병합에 모두 사용된다.

자바스크립트는 피연산자의 타입을 보고 덧셈을 할지 문자열 병합을 할지 판단한다.
자바스크립트는 두 피연산자를 왼쪽에서 오른쪽으로 평가한 후, 피연산자 중 하나라도 문자열이면 문자열 병합을 수행한다.

### 5.7 논리 연산자

#### 5.7.1 참 같은 값과 거짓 같은 값

자바스크립트에서는 모든 데이터 타입을 참 같은 값과 거짓 같은 값으로 나눌 수 있다.

### 5.8 AND, OR, NOT

자바스크립트가 지원하는 논리 연산자는 AND(&&)와 OR(||), NOT(!) 세 가지이다.

피연산자가 모두 true이면 결과도 true이기 때문에 OR 연산자는 가끔 포괄적 OR이라 불리기도 한다.

#### 5.8.1 단축 평가

두 값을 모두 평가하지 않아도 될 때, 이런 동작을 단축 평가라고 한다.

단축 평가가 중요한 이유는 두 번째 피연산자에 부수 효과가 있다 하더라도 단축 평가를 거치면 그 효과는 일어나지 않기 때문이다.

표현식에서 부수 효과는 증가, 감소, 할당, 함수 호출에서 일어날 수 있다.

#### 5.8.2 피연산자가 불리언이 아닐 때 논리 연산자가 동작하는 방법

불리언 피연산자를 사용하면 논리 연산자는 항상 불리언을 반환한다.

객체는 항상 참 같은 값으로 평가된다.

NOT은 불리언 값을 반환할 수 없으므로 ! 연산자는 피연산자의 타입이 무엇이든 항상 불리언을 반환한다.

#### 5.8.3 조건 연산자

조건 연산자는 자바스크리트의 유일한 3항 연산자이다.
즉, 이 연산자는 피연산자 세 개를 받는다.

#### 5.8.4 쉼표 연산자

쉼표 연산자는 표현식을 결합하여 두 표현식을 평가한 후, 두 번째 표현식의 결과를 반환한다.

쉼표 연산자는 우선순위가 가장 낮은 연산자이다.

### 5.9 연산자 그룹

그룹 연산자(괄호)에는 아무 효과도 없지만 연산자 우선순위를 높이거나 명확히 표현하는 데 쓸 수 잇다.

#### 5.9.1 비트 연산자

비트 연산자는 숫자의 비트를 직접 조작한다.
비트 연산자는 피연산자를 2의 보수 형식으로 저장된 32 비트 부호 붙은 정수로 간주한다.

비트 연산자에는 논리 연산자 이외에도 비트를 다른 위치로 옮기는 시프트 연산자도 있다.

비트 연산자를 쓰면 숫자형 값 하나로 이들 플래그를 결합하고, 바꾸고, 읽을 수 있다.

#### 5.9.2 typeof 연산자

typeof 연산자는 피연산자의 타입을 나타내는 문자열을 반환한다.

typeof는 배열과 배열 아닌 객체도정확히 구분하지 못한다.

#### 5.9.3 void 연산자

void 연산자는 피연산자를 평가한 후 undefined를 반환한다.

#### 5.9.4 할당 연산자

할당 연산자는 변수에 값을 할당한다.
등호의 왼쪽(l-value)에 있는 것은 반드시 변수나 프로퍼티, 배열 요소 중 하나여야 한다.
즉, 표현식의 좌변에 있는 것은 반드시 값을 저장할 수 있는 것이어야 한다.

### 5.10 해체 할당

해체 할당은 객체나 배열을 변수로 해체할 수 있다.

객체를 해체할 때는 반드시 변수 이름과 객체의 프로퍼티 이름이 일치해야 한다.

배열을 해체할 때는 배열 요소에 대응할 변수 이름을 마음대로 쓸 수 있으며 이들은 배열 순서대로 대응한다.

### 5.11 객체와 배열 연산자

### 5.12 템플릿 문자열과 표현식

표현식은 값이므로 값이 들어갈 수 있는 곳에는 어디든 표현식을 쓸 수 있다.

### 5.13 표현식과 흐름 제어 패턴

#### 5.13.1 if...else 문을 3항 연산자로 바꾸기

if...else 문의 목적이 변수의 값을 얻는 것이라면 일반적으로 if...else 대신 3항 연산자를 쓰는 편이 좋다.

#### 5.13.2 if 문을 단축 평가하는 OR 표현식으로 바꾸기

할당이 주 목적인 if 문은 단축 평가를 사용하는 OR 표현식을 써서 간결하게 줄일 수 있다.

### 5.14 요약
