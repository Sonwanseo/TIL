## Chapter 4 제어문

### 4.1 제어문의 기초

순서도는 제어문을 시각적으로 나타내는 방법

#### 4.1.1 while 루프

while 루프는 조건을 만족하는 동안 코드를 계속 반복한다.

#### 4.1.2 블록 문

블록문은 제어문이 아니지만 제어문과 함께 쓰인다.
블록 문은 문 여러 개를 중괄호로 묶은 것이며 자바스크립트는 이들을 하나의 단위로 취급한다.

#### 4.1.3 공백

자바스크립트는 줄바꿈 문자를 포함해, 추가 공백을 신경 쓰지 않는다.

문 하나만 쓸 때는 블록 생략한다.
들여쓰기는 항상 의미가 명확히 드러나야 한다.

#### 4.1.5 if...else 문

while 문과 달리 if...else 문 자체에는 반복 기능이 없다.
판단하고, 그에 따라 움직인다.

#### 4.1.6 do...while 루프

do...while 루프는 루프 바디를 최소 한 번은 실행하려 할 때 사용한다.

#### 4.1.7 for 루프

for 루프는 대단히 유연하며 while 루프나 do...while 루프는 모두 for 루프로 고쳐 쓸 수 있다.
하지만 for 루프가 가장 잘 어울리는 경우는 어떤 일을 정해진 숫자만큼 반복하려 할 때, 특히 그 일을 지금 몇 번째 하는지 알아야 할 때 이다.

for 루프는 세 부분으로 나뉜다.
각 부분은 초기화, 조건, 마지막 표현식이다.

#### 4.1.8 if 문

if...else 문에서는 모든 분기가 행동으로 연결됐지만, if 문에서는 분기 중 하나만 행동으로 연결된다.

### 4.2 자바스크립트의 제어문

제어문은 조건문과 반복문 두 가지 범주로 나뉜다.

조건문에는 if와 if...else 문이 있고, 그 외에 switch 문이 있다.

반복문에는 while과 do...while, for 루프가 있다.
이들은 조건이 맞는 동안 바디를 계속 반복한다.

#### 4.2.1 제어문의 예외

제어문의 일반적인 실행 방식을 바꾸는 네 가지 문이 있다.

- break
  루프 중간에 빠져나간다.

- continue
  루프에서 다음 단계로 바로 건너뛴다.

- return
  제어문을 무시하고 현재 함수를 즉시 빠져나간다.

- throw
  예외 핸들러에게 반드시 처리해야 할 예외를 일으킨다.

#### 4.2.2 if...else 문을 체인으로 연결하기

if...else 문을 체인으로 연결하는 것은 단순히 if...else 문을 연달아 쓰고, 각 else 절이 다음 if...else 문을 포함한다.

#### 4.2.3 메타 문법

메타 문법은 다른 문법을 설명하는 문법이다.
대괄호([])로 감싼 것은 옵션이고, 생략 부호(...)는 '여기 들어갈 내용이 더 있다'는 뜻이다.
단어는 플레이스홀더로 사용하며 그 의미는 문맥에서 알 수 있다.

#### 4.2.4 for 루프의 다른 패턴

쉼표 연산자를 쓰면 초기화와 마지막 표현식에 여러 문을 결합할 수 있따.
for 루프는 보통 정수 인덱스를 늘이거나 줄이면서 반복하지만, 꼭 그래야 하는 것은 아니다.

for 루프의 장점은 루프의 제어부가 첫 번째 행에 모여 있어서 일목요연하게 파악할 수 있다는 것이다.
for 루프에서는 let으로 초기화한 변수가 for 루프안에서만 유효하다는 장점도 있다.

#### 4.2.5 switch 문

if...else 문은 두 가지 중 하나를 선택하지만, switch 문은 조건 하나로 여러 가지 중 하나를 선택할 수 있다.
따라서 참 같은 값/거짓 같은 값보다는 다양하게 나뉘는 조건을 사용한다.

똑같은 행동을 하는 경우에는 break 없는 case 절을 활용할 수 있다.

default 절은 일치하는 case 절이 없을 때 실행된다.
default 절은 필수는 아니지만, 보통 맨 마지막에 사용한다.
default 뒤에는 case가 없으므로 break 문이 없어도 되지만, 항상 break 문을 사용하는게 좋은 습관이다.

자바스크립트는 공백이 몇 칸이든 신경 쓰지 않으므로 break나 return 문을 실행할 문과 같은 행에 넣으면 switch 문을 더 간결하게 만들 수 있다.

switch 문을 줄바꿈 없이 쓸 때는 case마다 실행문이 하나씩 있고, break 없는 case 절을 쓰지 않아야 의도가 명확하게 들어난다.

switch 문은 표현식 하나로 여러 가지 옵션 중에서 하나를 선택해야 할 때 아주 유용하다.

#### 4.2.6 for...in 루프

for...in 루프는 객체의 프로퍼티에 루프를 실행하도록 설계된 루프이다.

#### 4.2.7 for...of 루프

for...of 문은 컬렉션의 요소에 루프를 실행하는 다른 방법이다.
for...of 루프는 배열은 물론 이터러블 객체에 모두 사용할 수 있는 범용적인 루프이다.
for...of는 배열에 루프를 실행해야 하지만 각 요소의 인덱슬르 알 필요는 없을 때 알맞다.
인덱스를 알아야 한다면 일반적인 for 루프를 사용한다.

### 4.3 유용한 제어문 패턴

#### 4.3.1 continue 문을 사용하여 조건 중첩 줄이기

특정 조건이 맞을 때만 루프 바디를 실행해야 할 때가 많다.
다시 말해 반복문 안에 조건문을 써야 하는 경우이다.

이런 경우를 제어문 중첩이라 부른다.
while 루프의 바디에서 할 일은 대부분 else 절에 들어있고, if 절이 하는 일은 console.log를 호출하는 것이다.
continue 문을 써서 이 구조를 간결하게 만들 수 있다.

#### 4.3.2 break나 return 문을 써서 불필요한 연산 줄이기

#### 4.3.3 루프를 완료한 뒤 인덱스 값 사용하기

break 문을 써서 루프를 일찍 종료했을 때 인덱스 변수의 값이 필요할 때가 있다.
for 루프가 끝나도 인덱스 변수의 값은 그대로 유지된다는 점을 활용할 수 있다.
이 패턴은 break문을 써서 루프를 끝내도록 해야만 사용할 수 있다.

#### 4.3.4 배열을 수정할 때 감소하는 인덱스 사용하기

배열에 루프를 실행하면서 루프 바디에서 배열을 수정하는 건 위험할 수 있다.
이런 경우 널리 쓰이는 패턴은 감소하는 인덱스를 써서, 배열 마지막 요소에서 루프를 시작하는 방법이다.

### 4.4 요약

제어문은 실제로 프로그램이 동작하게 하는 가장 중요한 열쇠이다.
변수와 상수에 중요한 정보가 아무리 많이 들어있다 해도 제어문을 써야 그 데이터에 따라 필요한 선택을 할 수 있다.
