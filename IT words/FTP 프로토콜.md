# 2021-02-07

## FTP 프로토콜

TCP/IP 프로토콜을 가지고 서버와 클라이언트 사이의 파일 전송을 하기 위한 프로토콜
역사는 오래되었지만 지금도 인터넷에서 자주 사용됨

### 연결

HTTP와는 달리 2가지의 연결 종류가 있음

- 명령 연결: 먼저 제어 포트인 서버 21번 포트로 사용자 인증, 명령을 위한 연결이 만들어지고, 여기를 통해 클라이언트에서 지시하는 명령어가 전달됨
- 데이터 전송용 연결: 실제의 파일 전송은 필요할 때 새로운 연결이 만들어짐
  1. 액티브 모드: 서버가 자신의 데이터 포트인 20번 포트에서부터 클라이언트가 지정한 지점으로의 데이터 연결을 만듦
     클라이언트가 지정하는 포트는 주로 1023보다 큰 번호가 매겨진 포트
     클라이언트가 방화벽, NAT 등을 사용하는 환경일 때에 잘 동작하지 않을 수 있는데, 이 때 수동모드를 이용
  2. 패시브 모드: 클라이언트가 서버가 지정한 포트로 연결할 수 있게 함
     이 때 보통 양쪽 포트 모두 1023보다 큰 포트를 사용

### 참고

- https://ko.wikipedia.org/wiki/%ED%8C%8C%EC%9D%BC_%EC%A0%84%EC%86%A1_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C
- https://peemangit.tistory.com/66