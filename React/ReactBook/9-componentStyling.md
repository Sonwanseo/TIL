# 9. 컴포넌트 스타일링

## 1. 일반 CSS

CSS를 작성할 때 가장 중요한 점은 CSS 클래스를 중복되지 않게 만드는 것
CSS 클래스가 중복되는 것을 방지하는 여러 가지 방식
그 중 하나는 이름을 지을 때 특별한 규칙을 사용
또 다른 하나는 CSS Selector 활용

클래스 이름에 컴포넌트 이름을 포함시킴으로써 다른 컴포넌트에서 실수로 중복되는 클래스를 만들어 사용하는 것 방지 가능
BEM 네이밍은 CSS 방법론 중 하나로, 이름을 지을 때 일 종의 규칙을 준수하여 해당 클래스가 어디에서 어떤 용도로 사용되는지 명확하게 작성하는 방식

CSS Selector을 사용하면 CSS 클래스가 특정 클래스 내부에 있는 경우에만 스타일 적용이 가능

## 2. Sass

Sass = Syntactically Awesome Style Sheets (문법적으로 매우 멋진 스타일시트) , CSS 전처리기
복잡한 작업을 쉽게 하게 함, 스타일 코드의 재활용성을 상승, 코드의 가독성을 높여 유지 보수를 더욱 쉽게

Sass에서는 두 가지 확장자 .scss와 .sass를 지원
주요 차이점 = .sass 확장자는 중괄호와 세미콜론 사용 X
.scss 확장자는 기존 CSS 작성 방식과 문법 차이가 크게 없음

여러 파일에서 사용될 수 있는 Sass 변수 및 믹스인은 다른 파일로 따로 분리하여 작성한 뒤 필요한 곳에서 쉽게 불러와 사용 가능

create-react-app으로 만든 프로젝트는 프로젝트의 구조 복잡도를 낮추기 위해 세부 설정이 모두 숨겨져 있음
이를 커스터마이징하려면 프로젝트 디렉터리에서 yarn eject(npm run eject) 명령어를 통해 세부 설정을 밖으로 꺼내 주어야 함

create-react-app에서는 기본적으로 Git 설정이 되어 있음
yarn eject(npm run eject)는 Git에 커밋되지 않은 변화가 있다면 진행되지 않음

새 파일을 생성할 때마다 utils.scss를 매번 포함시키는 것이 귀찮다면
sass-loader의 data 옵션을 변경 -> Sass 파일을 불러올 때마다 코드의 맨 윗부분에 특정 코드를 포함시켜 줌

Sass의 장점 중 하나는 라이브러리를 쉽게 불러와서 사용할 수 있다는 점
설치한 라이브러리를 사용하는 가장 기본적인 방법은 상대 경로를 사용하여 node_modules까지 들어가서 불러오는 방법
이보다 더 쉬운 방법, 물결 문자(~) 사용

Sass 라이브러리를 불러올 때는 node_modules 내부 라이브러리 경로 안에 들어 있는 scss파일을 불러와야 함

## 3. CSS Module

CSS Module은 CSS를 불러와서 사용할 때 클래스 이름을 고유한 값, 즉 [파일 이름]_[클래스 이름]_[해시값] 형태로 자동으로 만들어서 컴포넌트 스타일 클래스 이름이 중첩되는 현상을 방지 해 주는 기술

CSS Module이 적용된 스타일 파일을 불러오면 객체를 하나 전달받게 되는데 CSS Module에서 사용한 클래스 이름과 해당 이름을 고유화한 값이 키-값 형태로 들어 있음
고유한 클래스 이름을 사용하려면 클래스를 적용하고 싶은 JSX 엘리먼트에 className={styles.[클래스 이름]} 형태로 전달
:global을 사용하여 전역적으로 선언한 클래스의 경우 평상시 해 왔던 것처럼 문자열로 전달

` 문자는 백틱(Backtick)이라고 부름

classnames는 CSS 클래스를 조건부로 설정할 때 매우 유용한 라이브러리
또한, CSS Module을 사용할 때 이 라이브러리를 사용하면 여러 클래스를 적용할 때 매우 편리
여러 가지 종류의 파라미터를 조합해 CSS 클래스를 설정할 수 있기 때문에 컴포넌트에서 조건부로 클래스를 설정할 때 매우 편리

classnames와 덧붙여 CSS Module과 함께 사용하면 CSS Module 사용이 훨씬 쉬움
classnames에 내장되어 있는 bind 함수를 사용하면 클래스를 넣어 줄 때마다 styles.[클래스 이름] 형태를 사용할 필요 X
미리 styles에서 받아 온 후 사용하게끔 설정해 두고 cx('클래스 이름', '클래스 이름2') 형태로 사용 가능

Sass를 사용할 때도 파일 이름 뒤에 .module.scss 확장자를 사용해 주면 CSS Module로 사용 가능
CSS Module에서 글로벌 클래스를 정의할 때 :global을 사용했던 것처럼 CSS Module이 아닌 일반 .css/.scss 파일에서도 :local을 사용하여 CSS Module 사용 가능

## 4. styled-components

컴포넌트 스타일링의 또 다른 패러다임은 자바스크립트 파일 안에 스타일을 선언하는 방식 (CSS-in-JS)
styled-components를 대체할 수 있는 라이브러리로는 현재 emotion이 대표적, 작동 방식은 비슷

styled-components와 일반 classnames를 사용하는 CSS/Sass를 비교했을 때, 가장 큰 장점은 props 값으로 전달해 주는 값을 쉽게 스타일에 적용 가능하다는 것
`을 사용하여 만든 문자열에 스타일 정보를 전달 = Tagged 템플릿 리터럴
CSS Module을 배울 때 나온 일반 템플릿 리터럴과 다른 점은 템플릿 안에 자바스크립트 객체나 함수를 전달 할 때 온전히 추출 가능

템플릿에 객체를 넣거나 함수를 넣으면 형태를 잃게 됨
객체는 "[object Object]"로 변환되고, 함수는 함수 내용이 그대로 문자열화되어 나타남
styled-components는 styled-components로 만든 컴포넌트의 props를 스타일 쪽에서 쉽게 조회할 수 있도록 함

스타일링된 엘리먼트를 만들 때는 컴포넌트 파일의 상단에서 styled를 불러오고, styled.태그명 을 사용하여 구현

styled-components를 사용하면 스타일 쪽에서 컴포넌트에게 전달된 props값 참조 가능
스타일 코드 여러 줄을 props에 따라 넣어 주어야 할 때는 CSS를 styled-components에서 불러와야 함
CSS를 사용하지 않고 다음과 같이 바로 문자열을 넣어도 작동하긴 함
하지만, 그저 문자열로만 취급되기 때문에 신택스 하이라이팅이 제대로 이루어지지 않음
더욱 치명적인 단점은 Tagged 템플릿 리터럴이 아니기 때문에 함수를 받아 사용하지 못해 해당 부분에서는 props 값을 사용하지 못함
만약 조건부 스타일링을 할 때 넣는 여러 줄의 코드에서 props를 참조하지 않는다면 굳이 CSS를 불러와서 사용하지 않아도 상관없음
하지만 props를 참조한다면, 반드시 CSS로 감싸 주어서 Tagged 템플릿 리터럴을 사용해야 함

반응형 디자인 / 브라우저의 가로 크기에 다라 다른 스타일을 적용하기 위해서는 일반 CSS를 사용할 때와 똑같이 media 쿼리(query)를 사용하면 됨
