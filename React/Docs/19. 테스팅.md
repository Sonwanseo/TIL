# 19. 테스팅

## 테스팅 개요

React 컴포넌트를 테스트할 수 있는 몇 가지 방법이 있는데 크게 2가지 카테고리로 나누어진다.

- 컴포넌트 트리 렌더링: 간략화된 테스팅 환경 및 출력값이 확실한 경우
- 완성된 앱에서의 테스트: 현실적 브라우저 환경(End To End Test)

### 트레이드오프

테스팅 도구를 선택할 때 몇 가지 트레이드오프를 생각하는 것은 의미 있는 일이다.

- 반복작업 속도 vs 현실적인 개발 환경: 몇몇 도구들은 변경사항이 생기고 결과 값이 출력되는 과정에서 매우 빠른 피드백 루프를 제공하지만 브라우저 동작을 정확히 구현하지 않는다.  
  다른 도구들이 현실적 브라우저 환경에서 사용되지만 반복 작업 속도를 저하시키고 지속적 통합 서버 환경에서 더 연약하다.
- 얼마나 다양한 방법을 통해 실제 테스트 환경의 동작을 테스트할 것인가?  
  컴포넌트 안에서는 유닛 테스트와 통합 테스트의 차이는 명확하지 않다.

### 추천 도구

Jest는 jsdom을 통해 DOM에 접근하게 하는 JavaScript 테스트 러너다.  
jsdom은 단지 어떻게 브라우저가 작동하는지에 대한 대략적 개요이다.  
하지만 이는 React 컴포넌트를 테스팅하기에 충분하다.  
Jest는 mocking modules과 timers 같은 파워풀한 특징과 결합되어 훌륭한 반복속도를 제공한다.  
그래서 더 많은 코드 제어를 가진다.

React Testing Library는 실행 디테일을 가지지 않는 React 컴포넌트를 테스트하게 하는 도구 모음이다.  
이러한 접근은 리팩토링을 수월하게 하며 접근성에 대한 가장 좋은 연습을 가능하게 한다.  
자식 컴포넌트를 가지지 않는 컴포넌트에 대한 얕은 렌더링 방법을 제공하지 않더라도 Jest와 같은 테스트 러너는 mocking에 의해 위를 가능하게 한다.